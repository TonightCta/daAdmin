webpackJsonp([9],{IrPI:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{radio:"1",options:[{value:"000016.SH",label:"上证50"},{value:"000300.SH",label:"沪深300"},{value:"399673.SZ",label:"创业板50"},{value:"399330.SZ",label:"深证100"}],stList:[],allPage:10,loadStar:!1,buyBackList:[],currentPage3:1,openBuy:!1,isHasData:!1,strUpBox:!1,editStr:!1,editMes:{name:null,author:null,style:null,risk:null,sIndex:null,remark:null,tag:[],expect:null,is_lock:null,state:null},addStr:!1,addMes:{name:"",cusName:"",style:"",type:"",sIndex:"",remark:"",tag:"",get:"",state:""},token:window.sessionStorage.getItem("token"),sessionID:window.sessionStorage.getItem("sessionID"),backNoData:!0,upSuccBack:[],strID:null,btnLoading:!1}},watch:{buyBackList:function(t,e){t.length<1?this.isHasData=!0:this.isHasData=!1},upSuccBack:function(t,e){t.length>0?this.backNoData=!1:this.backNoData=!0},openBuy:function(t,e){t||(this.buyBackList=[])}},created:function(){this.getStarList()},methods:{handleCurrentChange:function(t){this.getStarList()},openBug:function(t){var e=this;this.$http.getListAPI("mp/account/"+this.stList[t].id).then(function(t){1==t.data.state&&(e.buyBackList.push(t.data.data),e.openBuy=!0)})},editStrOpen:function(t){var e=this;this.$http.getListAPI("mp/strategy/"+this.stList[t].id).then(function(t){1==t.data.state&&(e.editMes=t.data.data,e.editStr=!0)})},subEdit:function(){var t=this;this.btnLoading=!0,""==this.editMes.name||null==this.editMes.name?this.$message.error("请输入策略名称"):""==this.editMes.author||null==this.editMes.author?this.$message.error("请输入主理人"):""==this.editMes.style||null==this.editMes.style?this.$message.error("请输入策略风格"):""==this.editMes.risk||null==this.editMes.risk?this.$message.error("请选择风险类型"):""==this.editMes.tag||null==this.editMes.tag?this.$message.error("请输入策略标签"):""==this.editMes.expect||null==this.editMes.expect?this.$message.error("请输入预期收益"):""==this.editMes.zhishu||null==this.editMes.zhishu?this.$message.error("请选择对标指数"):""==this.editMes.brief||null==this.editMes.brief?this.$message.error("请输入策略描述"):this.$http.putSomeAPI("mp/strategy",{name:this.editMes.name,author:this.editMes.author,style:this.editMes.style,risk:this.editMes.risk,tag:this.editMes.tag,expect:this.editMes.expect,code:this.editMes.code,is_lock:this.editMes.is_lock,brief:this.editMes.brief,id:this.editMes.id}).then(function(e){1==e.data.state?(t.btnLoading=!1,t.editStr=!1,t.$message.success("修改成功"),t.getStarList()):t.btnLoading=!1}).catch(function(e){t.btnLoading=!1})},subAdd:function(){var t=this;""==this.addMes.name||null==this.addMes.name?this.$message.error("请输入策略名称"):""==this.addMes.cusName||null==this.addMes.cusName?this.$message.error("请输入主理人"):""==this.addMes.style||null==this.addMes.style?this.$message.error("请输入策略风格"):""==this.addMes.type||null==this.addMes.type?this.$message.error("请选择风险类型"):""==this.addMes.tag||null==this.addMes.tag?this.$message.error("请输入策略标签"):""==this.addMes.get||null==this.addMes.get?this.$message.error("请输入预期收益"):""==this.addMes.sIndex||null==this.addMes.sIndex?this.$message.error("请选择对标指数"):""==this.addMes.state||null==this.addMes.state?this.$message.error("请选择策略状态"):""==this.addMes.remark||null==this.addMes.remark?this.$message.error("请输入策略描述"):(this.btnLoading=!0,this.$http.postFormAPI("mp/strategy",{name:this.addMes.name,author:this.addMes.cusName,style:this.addMes.style,risk:Number(this.addMes.type),tag:this.addMes.tag,expect:this.addMes.get,code:this.addMes.sIndex,is_lock:Number(this.addMes.state),brief:this.addMes.remark}).then(function(e){t.btnLoading=!0,1==e.data.state?(t.btnLoading=!1,t.addStr=!1,t.$message.success("添加成功"),t.getStarList()):t.btnLoading=!1}).catch(function(e){t.btnLoading=!1}))},upLogStr:function(t){this.strID=this.stList[t].id,this.strUpBox=!0},getStarList:function(){var t=this;this.loadStar=!0,this.$http.getListAPI("mp/strategy?page="+this.currentPage3+"&limit=15").then(function(e){1==e.data.state&&(t.loadStar=!1,t.allPage=5*e.data.data.pagination.total,t.stList=e.data.data.list,t.stList.forEach(function(t){var e=t.tag.split(",");t.tag=e}))})},upSuc:function(t){1==t.state?(this.$message.success("上传成功"),this.upSuccBack=t.data,this.getStarList()):this.$message.error(t.msg)},upFail:function(t){this.$message.error("您上传的文件内容有误")},chanceCode:function(t){this.editMes.code=t}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"strategyList"},[s("p",{staticClass:"listTitle"},[t._v("策略列表"),s("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"small"},on:{click:function(e){t.addStr=!0}}},[t._v("添加策略")])],1),t._v(" "),s("div",{staticClass:"listCon"},[s("el-row",[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"conTitle"},[t._v("策略名称")])]),t._v(" "),s("el-col",{attrs:{span:2}},[s("div",{staticClass:"conTitle"},[t._v("主理人")])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"conTitle"},[t._v("预期收益")])]),t._v(" "),s("el-col",{attrs:{span:5}},[s("div",{staticClass:"conTitle"},[t._v("标签")])]),t._v(" "),s("el-col",{attrs:{span:5}},[s("div",{staticClass:"conTitle"},[t._v("操作")])])],1),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadStar,expression:"loadStar"}],staticStyle:{minHeight:"650px"}},t._l(t.stList,function(e,a){return s("el-row",{key:a,staticClass:"stList"},[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"conMes"},[t._v(t._s(e.name))])]),t._v(" "),s("el-col",{attrs:{span:2}},[s("div",{staticClass:"conMes"},[t._v(t._s(e.author))])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"conMes"},[t._v(t._s(e.expect)+"%")])]),t._v(" "),s("el-col",{attrs:{span:5}},[s("div",{staticClass:"conMes"},t._l(e.tag,function(e,a){return s("span",{key:a,staticClass:"tags"},[t._v(t._s(e))])}),0)]),t._v(" "),s("el-col",{attrs:{span:5}},[s("div",{staticClass:"conMes"},[s("span",{staticClass:"operLast",on:{click:function(e){return t.openBug(a)}}},[t._v("客户详情 | ")]),t._v(" "),s("span",{staticClass:"operLast",on:{click:function(e){return t.upLogStr(a)}}},[t._v("上传历史净值 | ")]),t._v(" "),s("span",{staticClass:"operLast",on:{click:function(e){return t.editStrOpen(a)}}},[t._v("修改")])])])],1)}),1)],1),t._v(" "),s("div",{},[s("el-dialog",{attrs:{title:"购买详情",visible:t.openBuy,width:"60%"},on:{"update:visible":function(e){t.openBuy=e}}},[s("div",{},[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyTitle"},[t._v("用户名称")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyTitle"},[t._v("联系手机")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyTitle"},[t._v("券商名称")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyTitle"},[t._v("券商账号")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyTitle"},[t._v("券商密码")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyTitle"},[t._v("投资金额")])])],1),t._v(" "),t._l(t.buyBackList,function(e,a){return s("el-row",{key:a},[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyMes"},[t._v(t._s(e.nickname))])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyMes"},[t._v(t._s(e.mobile))])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyMes"},[null!=e.name&&""!=e.name?s("span",[t._v(t._s(e.name))]):s("span",[t._v("未绑定")])])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyMes"},[null!=e.account&&""!=e.account?s("span",[t._v(t._s(e.account))]):s("span",[t._v("未绑定")])])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyMes"},[null!=e.pwd&&""!=e.pwd?s("span",[t._v(t._s(e.pwd))]):s("span",[t._v("未绑定")])])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"buyMes"},[t._v(t._s(e.investment_amount))])])],1)}),t._v(" "),t.isHasData?s("p",{staticClass:"noData"},[t._v("暂无数据")]):s("p",{staticClass:"paperBox"},[s("el-pagination",{attrs:{"current-page":t.currentPage3,"page-size":100,layout:"prev, pager, next, jumper",total:100},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage3=e},"update:current-page":function(e){t.currentPage3=e}}})],1)],2),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.openBuy=!1}}},[t._v("关 闭")])],1)])],1),t._v(" "),s("div",{},[s("el-dialog",{attrs:{title:"策略历史净值上传",visible:t.strUpBox,width:"60%"},on:{"update:visible":function(e){t.strUpBox=e}}},[s("el-upload",{staticClass:"upload-demo",attrs:{accept:".xls,.xlsx","show-file-list":!1,drag:"",action:"/dev/mp/upload/strategy",headers:{Authorization:t.token,SessionId:t.sessionID,v:"v2"},data:{strategy_id:t.strID},"on-success":t.upSuc,"on-error":t.upFail,multiple:""}},[s("i",{staticClass:"el-icon-upload"}),t._v(" "),s("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),s("em",[t._v("点击上传")])]),t._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.xls、.xlsx的excel")])]),t._v(" "),s("p",{staticClass:"strDown"},[t._v("净值模版下载")]),t._v(" "),s("p",{staticClass:"upFinTitle"},[t._v("上传结果预览")]),t._v(" "),s("el-row",[s("el-col",{attrs:{span:12}},[s("div",{staticClass:"finbanckTitle"},[t._v("日期")])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"finbanckTitle"},[t._v("收益")])])],1),t._v(" "),t.backNoData?s("p",{staticClass:"backNoData"},[t._v("暂无数据")]):t._l(t.upSuccBack,function(e,a){return s("el-row",{key:a},[s("el-col",{attrs:{span:12}},[s("div",{staticClass:"finbanckCon"},[t._v(t._s(e.create_time))])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"finbanckCon"},[t._v(t._s(e.profit_rate))])])],1)}),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.strUpBox=!1,t.upSuccBack=[]}}},[t._v("关 闭")])],1)],2)],1),t._v(" "),s("div",{},[s("el-dialog",{attrs:{title:"编辑策略",visible:t.editStr,width:"40%"},on:{"update:visible":function(e){t.editStr=e}}},[s("div",{staticClass:"editStrBox"},[s("ul",[s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("策略名称:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("主理人:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("策略风格:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("风险类型:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("标签:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("预期收益:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("对标指数:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("策略状态:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("策略描述:")])]),t._v(" "),s("ul",[s("li",[s("el-input",{attrs:{type:"primary",placeholder:"请输入策略名称"},model:{value:t.editMes.name,callback:function(e){t.$set(t.editMes,"name",e)},expression:"editMes.name"}})],1),t._v(" "),s("li",[s("el-input",{attrs:{type:"primary",placeholder:"请输入主理人姓名"},model:{value:t.editMes.author,callback:function(e){t.$set(t.editMes,"author",e)},expression:"editMes.author"}})],1),t._v(" "),s("li",[s("el-input",{attrs:{type:"primary",placeholder:"请输入策略风格"},model:{value:t.editMes.style,callback:function(e){t.$set(t.editMes,"style",e)},expression:"editMes.style"}})],1),t._v(" "),s("li",[s("el-radio",{attrs:{label:1},model:{value:t.editMes.risk,callback:function(e){t.$set(t.editMes,"risk",e)},expression:"editMes.risk"}},[t._v("低风险")]),t._v(" "),s("el-radio",{attrs:{label:2},model:{value:t.editMes.risk,callback:function(e){t.$set(t.editMes,"risk",e)},expression:"editMes.risk"}},[t._v("中风险")]),t._v(" "),s("el-radio",{attrs:{label:3},model:{value:t.editMes.risk,callback:function(e){t.$set(t.editMes,"risk",e)},expression:"editMes.risk"}},[t._v("高风险")])],1),t._v(" "),s("li",[s("el-input",{staticStyle:{width:"240px"},attrs:{type:"primary",placeholder:"请输入标签名称"},model:{value:t.editMes.tag,callback:function(e){t.$set(t.editMes,"tag",e)},expression:"editMes.tag"}}),t._v(" "),s("span",{staticStyle:{marginLeft:"10px"}},[t._v("多个标签使用,隔开("),s("font",{staticStyle:{color:"red"}},[t._v("*英文符下")]),t._v(")")],1)],1),t._v(" "),s("li",[s("el-input",{staticStyle:{width:"200px"},attrs:{type:"primary",placeholder:"请输入预期收益"},model:{value:t.editMes.expect,callback:function(e){t.$set(t.editMes,"expect",e)},expression:"editMes.expect"}},[s("template",{slot:"append"},[t._v("%")])],2)],1),t._v(" "),s("li",[s("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"对标指数"},on:{change:t.chanceCode},model:{value:t.editMes.zhishu,callback:function(e){t.$set(t.editMes,"zhishu",e)},expression:"editMes.zhishu"}},t._l(t.options,function(t){return s("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),s("li",[s("el-radio",{attrs:{label:0},model:{value:t.editMes.is_lock,callback:function(e){t.$set(t.editMes,"is_lock",e)},expression:"editMes.is_lock"}},[t._v("正常")]),t._v(" "),s("el-radio",{attrs:{label:1},model:{value:t.editMes.is_lock,callback:function(e){t.$set(t.editMes,"is_lock",e)},expression:"editMes.is_lock"}},[t._v("锁定")])],1),t._v(" "),s("li",[s("el-input",{attrs:{type:"textarea",rows:8,placeholder:"请输入策略描述",resize:"none"},model:{value:t.editMes.brief,callback:function(e){t.$set(t.editMes,"brief",e)},expression:"editMes.brief"}})],1)])]),t._v(" "),s("p",{staticStyle:{width:"100%",textAlign:"center",marginTop:"20px"}},[s("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.btnLoading,expression:"btnLoading"}],attrs:{type:"primary","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",disable:t.btnLoading},on:{click:function(e){return t.subEdit()}}},[t._v("提交")])],1)])],1),t._v(" "),s("div",{},[s("el-dialog",{attrs:{title:"添加策略",visible:t.addStr,width:"40%"},on:{"update:visible":function(e){t.addStr=e}}},[s("div",{staticClass:"editStrBox"},[s("ul",[s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("策略名称:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("主理人:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("策略风格:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("风险类型:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("标签:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("预期收益:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("对标指数:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("策略状态:")]),t._v(" "),s("li",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("策略描述:")])]),t._v(" "),s("ul",[s("li",[s("el-input",{attrs:{type:"primary",placeholder:"请输入策略名称"},model:{value:t.addMes.name,callback:function(e){t.$set(t.addMes,"name",e)},expression:"addMes.name"}})],1),t._v(" "),s("li",[s("el-input",{attrs:{type:"primary",placeholder:"请输入主理人姓名"},model:{value:t.addMes.cusName,callback:function(e){t.$set(t.addMes,"cusName",e)},expression:"addMes.cusName"}})],1),t._v(" "),s("li",[s("el-input",{attrs:{type:"primary",placeholder:"请输入策略风格"},model:{value:t.addMes.style,callback:function(e){t.$set(t.addMes,"style",e)},expression:"addMes.style"}})],1),t._v(" "),s("li",[s("el-radio",{attrs:{label:"1"},model:{value:t.addMes.type,callback:function(e){t.$set(t.addMes,"type",e)},expression:"addMes.type"}},[t._v("低风险")]),t._v(" "),s("el-radio",{attrs:{label:"2"},model:{value:t.addMes.type,callback:function(e){t.$set(t.addMes,"type",e)},expression:"addMes.type"}},[t._v("中风险")]),t._v(" "),s("el-radio",{attrs:{label:"3"},model:{value:t.addMes.type,callback:function(e){t.$set(t.addMes,"type",e)},expression:"addMes.type"}},[t._v("高风险")])],1),t._v(" "),s("li",[s("el-input",{staticStyle:{width:"240px"},attrs:{type:"primary",placeholder:"请输入标签名称"},model:{value:t.addMes.tag,callback:function(e){t.$set(t.addMes,"tag",e)},expression:"addMes.tag"}}),t._v(" "),s("span",{staticStyle:{marginLeft:"10px"}},[t._v("多个标签使用,隔开("),s("font",{staticStyle:{color:"red"}},[t._v("*英文符下")]),t._v(")")],1)],1),t._v(" "),s("li",[s("el-input",{staticStyle:{width:"200px"},attrs:{type:"primary",placeholder:"请输入预期收益"},model:{value:t.addMes.get,callback:function(e){t.$set(t.addMes,"get",e)},expression:"addMes.get"}},[s("template",{slot:"append"},[t._v("%")])],2)],1),t._v(" "),s("li",[s("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"对标指数"},model:{value:t.addMes.sIndex,callback:function(e){t.$set(t.addMes,"sIndex",e)},expression:"addMes.sIndex"}},t._l(t.options,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),s("li",[s("el-radio",{attrs:{label:"1"},model:{value:t.addMes.state,callback:function(e){t.$set(t.addMes,"state",e)},expression:"addMes.state"}},[t._v("正常")]),t._v(" "),s("el-radio",{attrs:{label:"2"},model:{value:t.addMes.state,callback:function(e){t.$set(t.addMes,"state",e)},expression:"addMes.state"}},[t._v("锁定")])],1),t._v(" "),s("li",[s("el-input",{attrs:{type:"textarea",rows:8,placeholder:"请输入策略描述",resize:"none"},model:{value:t.addMes.remark,callback:function(e){t.$set(t.addMes,"remark",e)},expression:"addMes.remark"}})],1)])]),t._v(" "),s("p",{staticStyle:{width:"100%",textAlign:"center",marginTop:"20px"}},[s("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.btnLoading,expression:"btnLoading"}],attrs:{type:"primary","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",disable:t.btnLoading},on:{click:function(e){return t.subAdd()}}},[t._v("提交")])],1)])],1),t._v(" "),s("p",{staticClass:"paperBox"},[s("el-pagination",{attrs:{"current-page":t.currentPage3,"page-size":100,layout:"prev, pager, next, jumper",total:t.allPage},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage3=e},"update:current-page":function(e){t.currentPage3=e}}})],1)])},staticRenderFns:[]};var l=s("VU/8")(a,i,!1,function(t){s("mTJO")},"data-v-0e8bdf88",null);e.default=l.exports},mTJO:function(t,e){}});
//# sourceMappingURL=9.4c5d190b50c1177189cd.js.map