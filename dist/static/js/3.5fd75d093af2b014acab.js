webpackJsonp([3],{A5WE:function(s,a){},jw9T:function(s,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e={data:function(){return{mangeList:[],currentPage3:1,resetPass:!1,resetMes:{password:null,turnPass:null},passShow:"password",turnPassShow:"password",addPass:!1,addPassMes:{accNum:null,password:null,turnPass:null},addPassShow:"password",addTurnPassShow:"password",manLoading:!1,manPage:10,btnLoading:!1,mangeID:null}},watch:{resetPass:function(s,a){s||(this.resetMes={password:null,turnPass:null})},addPass:function(s,a){s||(this.addPassMes={accNum:null,password:null,turnPass:null})}},created:function(){this.getManList()},methods:{handleSizeChange:function(s){console.log("每页 "+s+" 条")},handleCurrentChange:function(s){console.log("当前页: "+s)},resSetPass:function(s){this.resetPass=!0,this.mangeID=this.mangeList[s].id},getManList:function(){var s=this;this.manLoading=!0,this.$http.getListAPI("mp/admin?page="+this.currentPage3+"&limit=15").then(function(a){1==a.data.state&&(s.manLoading=!1,s.mangeList=a.data.data.list,s.manPage=5*a.data.data.pagination.total)}).catch(function(a){s.manLoading=!1})},delMang:function(s){var a=this;this.$confirm("此操作将删除当前账户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.deleteListAPI("mp/admin",{id:a.mangeList[s].id}).then(function(s){1==s.data.state&&(a.$message.success("删除成功"),a.getManList())})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},subEditPass:function(){var s=this;null==this.resetMes.password||""==this.resetMes.password?this.$message.error("请输入密码"):null==this.resetMes.turnPass||""==this.resetMes.turnPass?this.$message.error("请再次输入密码"):this.resetMes.password!==this.resetMes.turnPass?this.$message.error("两次输入密码不一致"):(this.btnLoading=!0,this.$http.putSomeAPI("mp/admin",{id:this.mangeID,is_lock:0,password:this.resetMes.password,re_password:this.resetMes.turnPass}).then(function(a){1==a.data.state?(s.$message.success("重置成功"),s.resetPass=!1,s.btnLoading=!1):s.btnLoading=!1}).catch(function(a){s.btnLoading=!1}))},subAddAcc:function(){var s=this;null==this.addPassMes.accNum||""==this.addPassMes.accNum?this.$message.error("请输入账号"):null==this.addPassMes.password||""==this.addPassMes.password?this.$message.error("请输入密码"):null==this.addPassMes.turnPass||""==this.addPassMes.turnPass?this.$message.error("请再次输入密码"):this.addPassMes.password!==this.addPassMes.turnPass?this.$message.error("两次输入密码不一致"):(this.btnLoading=!0,this.$http.postFormAPI("mp/admin",{account:this.addPassMes.accNum,password:this.addPassMes.password,re_password:this.addPassMes.turnPass}).then(function(a){1==a.data.state?(s.$message.success("添加成功"),s.btnLoading=!1,s.addPass=!1,s.getManList()):s.btnLoading=!1}).catch(function(a){s.btnLoading=!1}))}}},n={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"mangeList"},[t("p",{staticClass:"mangeTitle"},[s._v("后台用户列表"),t("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"small"},on:{click:function(a){s.addPass=!0}}},[s._v("添加账户")])],1),s._v(" "),t("div",{staticStyle:{padding:"10px"}},[t("el-row",[t("el-col",{attrs:{span:6}},[t("div",{staticClass:"mangeCTitle"},[s._v("登录名")])]),s._v(" "),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"mangeCTitle"},[s._v("用户状态")])]),s._v(" "),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"mangeCTitle"},[s._v("最后登录")])]),s._v(" "),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"mangeCTitle"},[s._v("操作")])])],1),s._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:s.manLoading,expression:"manLoading"}],staticStyle:{minHeight:"650px"}},s._l(s.mangeList,function(a,e){return t("el-row",{key:e,staticClass:"mangeListCon"},[t("el-col",{attrs:{span:6}},[t("div",{staticClass:"mangeCCon"},[s._v(s._s(a.account))])]),s._v(" "),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"mangeCCon"},[0==a.is_lock?t("span",{staticStyle:{color:"green"}},[s._v("正常")]):t("span",{staticStyle:{color:"red"}},[s._v("已锁定")])])]),s._v(" "),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"mangeCCon"},[s._v(s._s(a.login_time))])]),s._v(" "),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"mangeCCon"},[t("span",{on:{click:function(a){return s.resSetPass(e)}}},[s._v("重置密码 | ")]),s._v(" "),t("span",{on:{click:function(a){return s.delMang(e)}}},[s._v("删除")])])])],1)}),1)],1),s._v(" "),t("div",{},[t("el-dialog",{attrs:{title:"重置密码",visible:s.resetPass,width:"30%"},on:{"update:visible":function(a){s.resetPass=a}}},[t("div",{staticClass:"resetPass"},[t("ul",[t("li",[t("span",{staticStyle:{color:"red"}},[s._v("*")]),s._v("登录密码:")]),s._v(" "),t("li",[t("span",{staticStyle:{color:"red"}},[s._v("*")]),s._v("确认密码:")])]),s._v(" "),t("ul",[t("li",[t("el-input",{attrs:{type:s.passShow,placeholder:"请输入密码"},model:{value:s.resetMes.password,callback:function(a){s.$set(s.resetMes,"password",a)},expression:"resetMes.password"}}),s._v(" "),"password"==s.passShow?t("i",{staticClass:"el-icon-unlock",on:{click:function(a){s.passShow="primary"}}}):t("i",{staticClass:"el-icon-lock",on:{click:function(a){s.passShow="password"}}})],1),s._v(" "),t("li",[t("el-input",{attrs:{type:s.turnPassShow,placeholder:"请再次输入密码"},model:{value:s.resetMes.turnPass,callback:function(a){s.$set(s.resetMes,"turnPass",a)},expression:"resetMes.turnPass"}}),s._v(" "),"password"==s.turnPassShow?t("i",{staticClass:"el-icon-unlock",on:{click:function(a){s.turnPassShow="primary"}}}):t("i",{staticClass:"el-icon-lock",on:{click:function(a){s.turnPassShow="password"}}})],1)])]),s._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){s.resetPass=!1}}},[s._v("关 闭")]),s._v(" "),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:s.btnLoading,expression:"btnLoading"}],attrs:{type:"primary","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{click:function(a){return s.subEditPass()}}},[s._v("提 交")])],1)])],1),s._v(" "),t("div",{},[t("el-dialog",{attrs:{title:"重置密码",visible:s.addPass,width:"30%"},on:{"update:visible":function(a){s.addPass=a}}},[t("div",{staticClass:"resetPass"},[t("ul",[t("li",[t("span",{staticStyle:{color:"red"}},[s._v("*")]),s._v("登录账号:")]),s._v(" "),t("li",[t("span",{staticStyle:{color:"red"}},[s._v("*")]),s._v("登录密码:")]),s._v(" "),t("li",[t("span",{staticStyle:{color:"red"}},[s._v("*")]),s._v("确认密码:")])]),s._v(" "),t("ul",[t("li",[t("el-input",{attrs:{type:"primary",placeholder:"请输入登录账号"},model:{value:s.addPassMes.accNum,callback:function(a){s.$set(s.addPassMes,"accNum",a)},expression:"addPassMes.accNum"}})],1),s._v(" "),t("li",[t("el-input",{attrs:{type:s.addPassShow,placeholder:"请输入密码"},model:{value:s.addPassMes.password,callback:function(a){s.$set(s.addPassMes,"password",a)},expression:"addPassMes.password"}}),s._v(" "),"password"==s.addPassShow?t("i",{staticClass:"el-icon-unlock",on:{click:function(a){s.addPassShow="primary"}}}):t("i",{staticClass:"el-icon-lock",on:{click:function(a){s.addPassShow="password"}}})],1),s._v(" "),t("li",[t("el-input",{attrs:{type:s.addTurnPassShow,placeholder:"请再次输入密码"},model:{value:s.addPassMes.turnPass,callback:function(a){s.$set(s.addPassMes,"turnPass",a)},expression:"addPassMes.turnPass"}}),s._v(" "),"password"==s.addTurnPassShow?t("i",{staticClass:"el-icon-unlock",on:{click:function(a){s.addTurnPassShow="primary"}}}):t("i",{staticClass:"el-icon-lock",on:{click:function(a){s.addTurnPassShow="password"}}})],1)])]),s._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){s.addPass=!1}}},[s._v("关 闭")]),s._v(" "),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:s.btnLoading,expression:"btnLoading"}],attrs:{type:"primary","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{click:function(a){return s.subAddAcc()}}},[s._v("提 交")])],1)])],1),s._v(" "),t("p",{staticClass:"paperBox"},[t("el-pagination",{attrs:{"current-page":s.currentPage3,"page-size":100,layout:"prev, pager, next, jumper",total:s.manPage},on:{"size-change":s.handleSizeChange,"current-change":s.handleCurrentChange,"update:currentPage":function(a){s.currentPage3=a},"update:current-page":function(a){s.currentPage3=a}}})],1)])},staticRenderFns:[]};var i=t("VU/8")(e,n,!1,function(s){t("A5WE")},"data-v-7632be39",null);a.default=i.exports}});
//# sourceMappingURL=3.5fd75d093af2b014acab.js.map