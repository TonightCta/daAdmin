webpackJsonp([7],{"d+dF":function(t,a){},lAz1:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e={data:function(){return{logList:[],currentPage3:1,strUpBox:!1,logPage:10,logLoading:!1,token:window.sessionStorage.getItem("token"),sessionID:window.sessionStorage.getItem("sessionID"),upSuccBack:[],backNoData:!0}},watch:{upSuccBack:function(t,a){t.length>0?this.backNoData=!1:this.backNoData=!0}},created:function(){this.getLogList()},methods:{handleCurrentChange:function(t){this.getLogList()},getLogList:function(){var t=this;this.logLoading=!0,this.$http.getListAPI("mp/upload/log?page="+this.currentPage3+"&limit=15").then(function(a){1==a.data.state&&(t.logLoading=!1,t.logPage=10*a.data.data.pagination.total,t.logList=a.data.data.list)})},upSuc:function(t){1==t.state?(this.$message.success("上传成功"),this.upSuccBack=t.data,this.getLogList()):this.$message.error(t.msg)},upFail:function(t){this.$message.error("您上传的文件内容有误")},downFile:function(t){console.log(this.logList[t]),window.open(this.logList[t].save_name)}}},i={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"upLog"},[s("p",{staticClass:"logTitle"},[t._v("净值上传记录\n    "),s("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:function(a){t.strUpBox=!0}}},[t._v("上传净值")])],1),t._v(" "),s("div",{staticStyle:{padding:"10px"}},[s("el-row",[s("el-col",{attrs:{span:10}},[s("div",{staticClass:"logCTitle"},[t._v("文件名")])]),t._v(" "),s("el-col",{attrs:{span:10}},[s("div",{staticClass:"logCTitle"},[t._v("上传时间")])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"logCTitle"},[t._v("操作")])])],1),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.logLoading,expression:"logLoading"}],staticStyle:{minHeight:"650px"}},t._l(t.logList,function(a,e){return s("el-row",{key:e,staticClass:"logList"},[s("el-col",{attrs:{span:10}},[s("div",{staticClass:"logCon"},[t._v(t._s(a.origin_name))])]),t._v(" "),s("el-col",{attrs:{span:10}},[s("div",{staticClass:"logCon"},[t._v(t._s(a.create_time))])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"logCon"},[s("span",{on:{click:function(a){return t.downFile(e)}}},[t._v("下载")])])])],1)}),1)],1),t._v(" "),s("p",{staticClass:"paperBox"},[s("el-pagination",{attrs:{"current-page":t.currentPage3,"page-size":100,layout:"prev, pager, next, jumper",total:t.logPage},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.currentPage3=a},"update:current-page":function(a){t.currentPage3=a}}})],1),t._v(" "),s("div",{},[s("el-dialog",{attrs:{title:"策略历史净值上传",visible:t.strUpBox,width:"60%"},on:{"update:visible":function(a){t.strUpBox=a}}},[s("el-upload",{staticClass:"upload-demo",attrs:{accept:".xls,.xlsx","show-file-list":!1,drag:"",name:"file",action:"/dev/mp/upload/profit",headers:{Authorization:t.token,SessionId:t.sessionID,v:"v2"},"on-success":t.upSuc,"on-error":t.upFail,multiple:""}},[s("i",{staticClass:"el-icon-upload"}),t._v(" "),s("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),s("em",[t._v("点击上传")])]),t._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.xls、.xlsx的excel")])]),t._v(" "),s("p",{staticClass:"strDown"},[t._v("净值模版下载")]),t._v(" "),s("p",{staticClass:"upFinTitle"},[t._v("上传结果预览")]),t._v(" "),s("el-row",[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"finbanckTitle"},[t._v("日期")])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"finbanckTitle"},[t._v("券商账号")])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"finbanckTitle"},[t._v("策略名称")])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"finbanckTitle"},[t._v("当日总资产")])])],1),t._v(" "),t.backNoData?s("p",{staticClass:"backNoData"},[t._v("暂无数据")]):t._l(t.upSuccBack,function(a,e){return s("el-row",{key:e},[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"finbanckCon"},[t._v(t._s(a.create_time))])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"finbanckCon"},[t._v(t._s(a.account))])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"finbanckCon"},[t._v(t._s(a.strategy))])]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"finbanckCon"},[t._v(t._s(a.profit))])])],1)}),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(a){t.strUpBox=!1,t.upSuccBack=[]}}},[t._v("关 闭")])],1)],2)],1)])},staticRenderFns:[]};var o=s("VU/8")(e,i,!1,function(t){s("d+dF")},"data-v-326bd267",null);a.default=o.exports}});
//# sourceMappingURL=7.18a890a284c0d85487b8.js.map